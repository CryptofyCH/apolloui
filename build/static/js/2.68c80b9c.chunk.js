(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{530:function(e,t,a){"use strict";a.r(t);var r=a(6),l=a(7),n=a(10),s=a(8),c=a(9),m=a(15),i=a(17),o=a(1),u=a.n(o),d=a(3),E=a(421),h=a.n(E),g=a(409),p=a.n(g),f=a(55),b=a(24),v=a(40),y=a.n(v),N=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(n.a)(this,Object(s.a)(t).call(this,e))).updateDimensions=function(){var e=y.a.findDOMNode(Object(b.a)(Object(b.a)(a))).getElementsByClassName("widget"),t=e[0]&&e[0].offsetWidth&&e[0].offsetWidth<=280||!1,r=a.state.widgetClasses;t?r+=" small-width":r="d-inline-block text-muted text-truncate",a.setState({widgetClasses:r})},a.state={widgetClasses:"d-inline-block text-muted text-truncate"},a}return Object(c.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){return u.a.createElement(d.f,{className:this.props.bgColor},u.a.createElement(d.g,{className:"widget"},u.a.createElement("div",{className:"h1 text-muted float-right"},u.a.createElement("i",{className:this.props.icon+" text-gray"})),u.a.createElement("div",{className:"h4 m-0"},this.props.value),u.a.createElement("div",null,this.props.title),u.a.createElement(d.G,{className:"progress-xs my-3",color:this.props.progressColor,value:this.props.progressValue}),u.a.createElement("small",{className:this.state.widgetClasses},this.props.secondaryTitle,": ",u.a.createElement("b",null,this.props.secondaryValue))))}}]),t}(o.Component),w=a(142),x=function(e){function t(){return Object(r.a)(this,t),Object(n.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.miner;return u.a.createElement("div",null,u.a.createElement(d.z,{isOpen:this.props.isOpen,toggle:this.props.toggle,className:this.props.className,size:"lg"},u.a.createElement(d.C,{className:"bg-light",toggle:this.props.toggle},"Miner raw stats"),u.a.createElement(d.A,null,u.a.createElement("div",{className:"animated fadeIn"},u.a.createElement(d.H,null,u.a.createElement(d.m,{lg:"12"},u.a.createElement(d.v,null,u.a.createElement("pre",null,JSON.stringify(e.stats,null,2)))))))))}}]),t}(o.Component),j=Object(i.connect)(function(e){return{miner:e.minerStats.data}})(x),O=function(e){function t(){return Object(r.a)(this,t),Object(n.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.pools,a=e.utility;return u.a.createElement(m.I18n,null,function(e){e.i18n;return u.a.createElement(d.K,{responsive:!0,className:"table-outline d-none d-sm-table"},u.a.createElement("thead",{className:"bg-light"},u.a.createElement("tr",null,u.a.createElement("th",{className:"text-center"},u.a.createElement("i",{className:"fa fa-tasks"})),u.a.createElement("th",null,u.a.createElement(m.Trans,{id:"Url"})),u.a.createElement("th",null,u.a.createElement(m.Trans,{id:"Type"})),u.a.createElement("th",null,u.a.createElement(m.Trans,{id:"Status"})),u.a.createElement("th",null,u.a.createElement(m.Trans,{id:"Hashrate"})),u.a.createElement("th",null,"Last share"),u.a.createElement("th",null,"Acc"),u.a.createElement("th",null,"Rej"),u.a.createElement("th",null,"Dis"),u.a.createElement("th",null,"Get"),u.a.createElement("th",null,u.a.createElement(m.Trans,{id:"Username"})))),u.a.createElement("tbody",{className:"bg-white"},t.data.map(function(e,t){return u.a.createElement("tr",{key:t},u.a.createElement("td",{className:"text-center"},u.a.createElement(d.e,null,u.a.createElement(m.Trans,{id:"Select"}))),u.a.createElement("td",null,u.a.createElement("div",{className:"font-weight-bold text-muted"},e.url)),u.a.createElement("td",{className:"text-center"},u.a.createElement("h5",{className:"mb-0"},u.a.createElement(d.b,{color:e.stratumActive?"primary":"light"},e.stratumActive?"Main":"Failover"))),u.a.createElement("td",null,u.a.createElement("h5",{className:"mb-0"},u.a.createElement(d.b,{color:"Alive"===e.status?"success":"danger"},e.status))),u.a.createElement("td",{className:"text-center"},e.stratumActive?u.a.createElement("h6",{className:"mb-0 font-weight-bold"},u.a.createElement("i",{className:"fa fa-fire text-secondary"})," ",Object(w.a)(71582788*a,"h")):u.a.createElement("span",null,"Not active")),u.a.createElement("td",null,e.lastShareTime?p()().to(p()(e.lastShareTime,"X")):"Never"),u.a.createElement("td",null,e.accepted),u.a.createElement("td",null,e.rejected),u.a.createElement("td",null,e.discarded),u.a.createElement("td",null,e.getworks),u.a.createElement("td",null,e.user))})))})}}]),t}(o.Component),S=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(n.a)(this,Object(s.a)(t).call(this,e))).openModalsRawStats=function(){a.setState({modalsRawStats:!a.state.modalsRawStats})},a.state={modalsRawStats:!1},a}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.minerError,a=e.mcuError,r=e.mcu,l=(e.loadingMiner,e.miner),n=e.settings,s=l.stats.summary.data.hardwareErrors+l.stats.summary.data.accepted+l.stats.summary.data.rejected,c=Math.round(100*l.stats.summary.data.rejected/s*100)/100,i=Math.round(100*l.stats.summary.data.hardwareErrors/s*100)/100,o="success";i>=10&&i<=20?o="warning":i>20&&(o="danger");var E=p()().to(p()().subtract(l.stats.summary.data.elapsed,"seconds"),!0),g=h.a.find(l.stats.pools.data,{stratumActive:!0}),b="Not available",v=0,y="success",x=p()().format("X");g&&g.lastShareTime&&(b=p()().to(p()(g.lastShareTime,"X")),v=g.lastShareTime);var S=x-v;return S>=300&&S<=600?y="warning":S>600&&(y="danger"),t?u.a.createElement(f.b,{show:!0,bg:"bg-0",title:"It seems there is a problem to communicate with the miner, check error message.",centerTitle:!0,subtitle:"If problem persists, try to restart the miner, check the settings or try to reboot the system.",error:t,centerSubtitle:!0,icon:"fa-exclamation-circle animated bounce",showBtn:!1,showProgress:!1}):u.a.createElement("div",{ref:"main"},u.a.createElement(j,{isOpen:this.state.modalsRawStats,toggle:this.openModalsRawStats}),a?u.a.createElement(d.a,{color:"warning"},"There is a problem fetching system stats (",u.a.createElement("b",null,a),")"):null,u.a.createElement("div",{className:"animated fadeIn"},u.a.createElement(d.H,null,u.a.createElement(d.m,{xs:"12",md:"6",xl:"3"},u.a.createElement(N,{bgColor:"bg-dark",icon:"fa fa-fire",value:Object(w.a)(l.stats.summary.data.mHSAv,"mh"),title:"Current hashrate",progressColor:"primary",progressValue:"100",secondaryTitle:"Pool",secondaryValue:g&&g.url?g.url:"Nothing active"})),u.a.createElement(d.m,{xs:"12",md:"6",xl:"3"},u.a.createElement(N,{bgColor:"bg-info",icon:"fa fa-thermometer-half",value:l.stats.summary.data.temperature||"0 C\xb0",title:"Miner temperature",progressColor:"success",progressValue:l.stats.summary.data.temperature,secondaryTitle:"MCU temperature",secondaryValue:(Number(r.stats.temperature)/1e3).toFixed(2)+" C\xb0"})),u.a.createElement(d.m,{xs:"12",md:"6",xl:"3"},u.a.createElement(N,{bgColor:"bg-gray-300",icon:"fa fa-exclamation-triangle",value:i+"%",title:"Hardware errors",progressColor:o,progressValue:100-i,secondaryTitle:"Rejected",secondaryValue:c+"%"})),u.a.createElement(d.m,{xs:"12",md:"6",xl:"3"},u.a.createElement(N,{bgColor:"bg-gray-200",icon:"fa fa-clock",value:E,title:"Miner uptime",progressColor:y,progressValue:100,secondaryTitle:"Last share",secondaryValue:b}))),u.a.createElement(d.H,null,u.a.createElement(d.m,{xs:"12",md:"6",xl:"3"},u.a.createElement(d.f,{className:"bg-light"},u.a.createElement(d.g,null,u.a.createElement("div",{className:"h1 text-muted float-right"},u.a.createElement("i",{className:"fa fa-hdd text-gray"})),u.a.createElement("div",{className:"h4 m-0"},n.minerMode||"Not set"),u.a.createElement("div",null,u.a.createElement(m.Trans,{id:"Miner mode"}))))),u.a.createElement(d.m,{xs:"12",md:"6",xl:"3"},u.a.createElement(d.f,{className:"bg-light"},u.a.createElement(d.g,null,u.a.createElement("div",{className:"h1 text-muted float-right"},u.a.createElement("i",{className:"fa fa-bolt text-gray"})),u.a.createElement("div",{className:"h4 m-0"},n.voltage||0,"V"),u.a.createElement("div",null,u.a.createElement(m.Trans,{id:"Miner voltage"}))))),u.a.createElement(d.m,{xs:"12",md:"6",xl:"3"},u.a.createElement(d.f,{className:"bg-light"},u.a.createElement(d.g,null,u.a.createElement("div",{className:"h1 text-muted float-right"},u.a.createElement("i",{className:"fa fa-broadcast-tower text-gray"})),u.a.createElement("div",{className:"h4 m-0"},n.frequency||0,"MHz"),u.a.createElement("div",null,u.a.createElement(m.Trans,{id:"Miner frequency"}))))),u.a.createElement(d.m,{xs:"12",md:"6",xl:"3"},u.a.createElement(d.f,{className:"bg-light"},u.a.createElement(d.g,null,u.a.createElement("div",{className:"h1 text-muted float-right"},u.a.createElement("i",{className:"fa fa-wind text-gray"})),u.a.createElement("div",{className:"h4 m-0"},n.fan>-1?n.fan+"%":"Auto"),u.a.createElement("div",null,u.a.createElement(m.Trans,{id:"Fan speed"}))))))),u.a.createElement("div",{className:"animated fadeIn"},u.a.createElement(d.H,null,u.a.createElement(d.m,null,u.a.createElement("h4",null,u.a.createElement(m.Trans,{id:"Pools"})),u.a.createElement("div",null,u.a.createElement(O,{pools:l.stats.pools,utility:l.stats.summary.data.workUtility}))))),u.a.createElement(d.e,{color:"link",onClick:this.openModalsRawStats},"Raw stats"))}}]),t}(o.Component),C=Object(i.connect)(function(e){return{loadingMcu:e.mcuStats.loading,mcu:e.mcuStats.data,mcuError:e.mcuStats.error,loadingMiner:e.minerStats.loading,miner:e.minerStats.data,minerError:e.minerStats.error,settings:e.settings}})(S);t.default=C}}]);
//# sourceMappingURL=2.68c80b9c.chunk.js.map