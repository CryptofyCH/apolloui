(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{598:function(e,t,a){"use strict";a.r(t);var r=a(8),l=a(9),n=a(11),s=a(10),m=a(12),c=a(15),i=a(16),o=a(1),d=a.n(o),u=a(3),E=a(549),h=a.n(E),g=a(550),b=a.n(g),p=a(38),f=a(25),v=a(46),y=a.n(v),N=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(n.a)(this,Object(s.a)(t).call(this,e))).updateDimensions=function(){var e=y.a.findDOMNode(Object(f.a)(Object(f.a)(a))).getElementsByClassName("widget"),t=e[0]&&e[0].offsetWidth&&e[0].offsetWidth<=280||!1,r=a.state.widgetClasses;t?r+=" small-width":r="d-inline-block text-muted text-truncate",a.setState({widgetClasses:r})},a.state={widgetClasses:"d-inline-block text-muted text-truncate"},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){return d.a.createElement(u.f,{className:this.props.bgColor},d.a.createElement(u.g,{className:"widget"},d.a.createElement("div",{className:"h1 text-muted float-right"},d.a.createElement("i",{className:this.props.icon+" text-gray"})),d.a.createElement("div",{className:"h4 m-0"},this.props.value),d.a.createElement("div",null,this.props.title),d.a.createElement(u.G,{className:"progress-xs my-3",color:this.props.progressColor,value:this.props.progressValue}),d.a.createElement("small",{className:this.state.widgetClasses},this.props.secondaryTitle,": ",d.a.createElement("b",null,this.props.secondaryValue))))}}]),t}(o.Component),x=a(41),w=function(e){function t(){return Object(r.a)(this,t),Object(n.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.pools,a=71582788*e.utility;return t.data=h.a.sortBy(t.data,"priority"),d.a.createElement(c.I18n,null,function(e){e.i18n;return d.a.createElement(u.K,{responsive:!0,className:"table-outline d-none d-sm-table"},d.a.createElement("thead",{className:"bg-light"},d.a.createElement("tr",null,d.a.createElement("th",null,d.a.createElement(c.Trans,{id:"Url"})),d.a.createElement("th",null,d.a.createElement(c.Trans,{id:"Type"})),d.a.createElement("th",null,d.a.createElement(c.Trans,{id:"Active"})),d.a.createElement("th",null,d.a.createElement(c.Trans,{id:"Status"})),d.a.createElement("th",null,d.a.createElement(c.Trans,{id:"Quota"})),d.a.createElement("th",null,d.a.createElement(c.Trans,{id:"Hashrate"})),d.a.createElement("th",null,"Last share"),d.a.createElement("th",null,"Acc"),d.a.createElement("th",null,"Rej"),d.a.createElement("th",null,"Dis"),d.a.createElement("th",null,"Get"),d.a.createElement("th",null,d.a.createElement(c.Trans,{id:"Username"})))),d.a.createElement("tbody",{className:"bg-white"},t.data.map(function(e,r){return d.a.createElement("tr",{key:r},d.a.createElement("td",null,d.a.createElement("div",{className:"font-weight-bold text-muted"},e.url)),d.a.createElement("td",{className:""},d.a.createElement("h5",{className:"mb-0"},"jstefanop.a1"===e.user?d.a.createElement(u.b,{color:"warning"},"Donation"):d.a.createElement(u.b,{color:e.priority?"light":"primary"},e.priority?"Failover":"Main"))),d.a.createElement("td",{className:""},d.a.createElement("h5",{className:"mb-0"},d.a.createElement(u.b,{color:e.stratumActive?"success":"light"},e.stratumActive?"Active":"Inactive"))),d.a.createElement("td",null,d.a.createElement("h5",{className:"mb-0"},d.a.createElement(u.b,{color:"Alive"===e.status?"success":"danger"},e.status))),d.a.createElement("td",null,d.a.createElement("h6",{className:"mb-0"},e.quota?e.quota+"%":"No quota")),d.a.createElement("td",null,e.stratumActive?d.a.createElement("h6",{className:"mb-0 font-weight-bold"},d.a.createElement("i",{className:"fa fa-fire text-secondary"})," ",e.quota>0&&t.data&&t.data.length>1?Object(x.c)(a*e.quota/100,"h"):Object(x.c)(a,"h")):d.a.createElement("span",null,"Not active")),d.a.createElement("td",null,e.lastShareTime?b()().to(b()(e.lastShareTime,"X")):"Never"),d.a.createElement("td",null,e.accepted),d.a.createElement("td",null,e.rejected),d.a.createElement("td",null,e.discarded),d.a.createElement("td",null,e.getworks),d.a.createElement("td",null,e.user))})))})}}]),t}(o.Component),T=function(e){function t(){return Object(r.a)(this,t),Object(n.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.minerCheck,a=e.minerError,r=e.mcuError,l=e.mcu,n=e.miner,s=e.settings,m=n.stats.summary.data.hardwareErrors+n.stats.summary.data.accepted+n.stats.summary.data.rejected,i=(parseFloat(Math.round(100*n.stats.summary.data.rejected/m*100)/100),parseFloat(Math.round(100*n.stats.summary.data.hardwareErrors/m*100)/100)||0),o="success";i>=10&&i<=20?o="warning":i>20&&(o="danger");var E=b()().to(b()().subtract(n.stats.summary.data.elapsed,"seconds"),!0),g=h.a.find(n.stats.pools.data,function(e){return e.lastShareTime>0&&!0===e.stratumActive}),f="Not available",v=0,y="success",T=b()().format("X");g&&g.lastShareTime&&(f=b()().to(b()(g.lastShareTime,"X")),v=g.lastShareTime);var j=T-v;return j>=300&&j<=600?y="warning":j>600&&(y="danger"),t.online.status?a?d.a.createElement(p.b,{show:!0,bg:"bg-0",title:"It seems there is a problem to communicate with the miner, check error message.",centerTitle:!0,subtitle:"Wait at least 1 minute, if problem persists, try to restart the miner, check the settings or try to reboot the system.",error:a,centerSubtitle:!0,icon:"fa-exclamation-circle animated bounce",showBtn:!1,showProgress:!1}):d.a.createElement("div",{ref:"main"},r?d.a.createElement(u.a,{color:"warning"},"There is a problem fetching system stats (",d.a.createElement("b",null,r),")"):null,d.a.createElement("div",{className:"animated fadeIn"},d.a.createElement(u.H,null,d.a.createElement(u.m,{xs:"12",md:"6",xl:"3"},d.a.createElement(N,{bgColor:"bg-dark",icon:"fa fa-fire",value:Object(x.c)(71582788*n.stats.summary.data.workUtility,"h"),title:"Current hashrate",progressColor:"primary",progressValue:"100",secondaryTitle:"Pool",secondaryValue:g&&g.url?g.url:"Nothing active"})),d.a.createElement(u.m,{xs:"12",md:"6",xl:"3"},d.a.createElement(N,{bgColor:"bg-info",icon:"fa fa-thermometer-half",value:Object(x.b)(l.stats.minerTemperature,s.temperatureUnit,!0),title:"Miner temperature",progressColor:Object(x.f)(Object(x.b)(l.stats.minerTemperature,"c")),progressValue:Object(x.b)(l.stats.minerTemperature,s.temperatureUnit),secondaryTitle:"MCU temperature",secondaryValue:Object(x.b)(Number(l.stats.temperature)/1e3,s.temperatureUnit,!0)})),d.a.createElement(u.m,{xs:"12",md:"6",xl:"3"},d.a.createElement(N,{bgColor:"bg-gray-300",icon:"fa fa-exclamation-triangle",value:n.stats.summary.data.deviceHardware.toFixed(1)+"%",title:"Hardware errors",progressColor:o,progressValue:n.stats.summary.data.deviceHardware,secondaryTitle:"Rejected",secondaryValue:n.stats.summary.data.deviceRejected})),d.a.createElement(u.m,{xs:"12",md:"6",xl:"3"},d.a.createElement(N,{bgColor:"bg-gray-200",icon:"fa fa-clock",value:E,title:"Miner uptime",progressColor:y,progressValue:100,secondaryTitle:"Last share",secondaryValue:f}))),d.a.createElement(u.H,null,d.a.createElement(u.m,{xs:"12",md:"6",xl:"3"},d.a.createElement(u.f,{className:"bg-light"},d.a.createElement(u.g,null,d.a.createElement("div",{className:"h4 m-0"},n.stats.summary.data.accepted),d.a.createElement("div",null,d.a.createElement(c.Trans,{id:"Accepted"}))))),d.a.createElement(u.m,{xs:"12",md:"6",xl:"3"},d.a.createElement(u.f,{className:"bg-light"},d.a.createElement(u.g,null,d.a.createElement("div",{className:"h4 m-0"},n.stats.summary.data.rejected),d.a.createElement("div",null,d.a.createElement(c.Trans,{id:"Rejected"}))))),d.a.createElement(u.m,{xs:"12",md:"6",xl:"3"},d.a.createElement(u.f,{className:"bg-light"},d.a.createElement(u.g,null,d.a.createElement("div",{className:"h4 m-0"},n.stats.summary.data.discarded),d.a.createElement("div",null,d.a.createElement(c.Trans,{id:"Discarded"}))))),d.a.createElement(u.m,{xs:"12",md:"6",xl:"3"},d.a.createElement(u.f,{className:"bg-light"},d.a.createElement(u.g,null,d.a.createElement("div",{className:"h4 m-0"},n.stats.summary.data.hardwareErrors),d.a.createElement("div",null,d.a.createElement(c.Trans,{id:"HW Errors"}))))))),d.a.createElement("div",{className:"animated fadeIn"},d.a.createElement(u.H,null,d.a.createElement(u.m,null,d.a.createElement("h4",null,d.a.createElement(c.Trans,{id:"Pools"})),d.a.createElement("div",null,d.a.createElement(w,{pools:n.stats.pools,utility:n.stats.summary.data.workUtility}))))),d.a.createElement("div",null,d.a.createElement("h4",null,d.a.createElement(c.Trans,{id:"Settings"})),d.a.createElement(u.H,null,d.a.createElement(u.m,{xs:"12",md:"6",xl:"3"},d.a.createElement(u.f,{className:"bg-light"},d.a.createElement(u.g,null,d.a.createElement("div",{className:"h1 text-muted float-right"},d.a.createElement("i",{className:Object(x.d)(s.minerMode)+" fa text-gray"})),d.a.createElement("div",{className:"h4 m-0"},s.minerMode||"Not set"),d.a.createElement("div",null,d.a.createElement(c.Trans,{id:"Miner mode"}))))),d.a.createElement(u.m,{xs:"12",md:"6",xl:"3"},d.a.createElement(u.f,{className:"bg-light"},d.a.createElement(u.g,null,d.a.createElement("div",{className:"h1 text-muted float-right"},d.a.createElement("i",{className:"fa fa-bolt text-gray"})),d.a.createElement("div",{className:"h4 m-0"},"custom"===s.minerMode?d.a.createElement("span",null,s.voltage||0," ",d.a.createElement("small",{className:"textmuted"},"mV")):d.a.createElement("span",null,"Auto")),d.a.createElement("div",null,d.a.createElement(c.Trans,{id:"Miner voltage"}))))),d.a.createElement(u.m,{xs:"12",md:"6",xl:"3"},d.a.createElement(u.f,{className:"bg-light"},d.a.createElement(u.g,null,d.a.createElement("div",{className:"h1 text-muted float-right"},d.a.createElement("i",{className:"fa fa-broadcast-tower text-gray"})),d.a.createElement("div",{className:"h4 m-0"},"custom"===s.minerMode?d.a.createElement("span",null,s.frequency||0," ",d.a.createElement("small",{className:"textmuted"},"MHz")):d.a.createElement("span",null,"Auto")),d.a.createElement("div",null,d.a.createElement(c.Trans,{id:"Miner frequency"}))))),d.a.createElement(u.m,{xs:"12",md:"6",xl:"3"},d.a.createElement(u.f,{className:"bg-light"},d.a.createElement(u.g,null,d.a.createElement("div",{className:"h1 text-muted float-right"},d.a.createElement("i",{className:"fa fa-wind text-gray"})),d.a.createElement("div",{className:"h4 m-0"},l.stats.minerFanSpeed," ",d.a.createElement("small",{className:"textmuted"},"RPM")),d.a.createElement("div",null,d.a.createElement(c.Trans,{id:"Fan speed"})))))))):d.a.createElement(p.b,{show:!0,bg:"bg-0",title:"Miner is offline",centerTitle:!0,subtitle:"Try to start it",error:!1,centerSubtitle:!0,icon:"fa-toggle-off animated bounce",showBtn:!0,btnTo:"/miner/start",btnText:"Start"})}}]),t}(o.Component),j=Object(i.connect)(function(e){return{loadingMcu:e.mcuStats.loading,mcu:e.mcuStats.data,mcuError:e.mcuStats.error,loadingMiner:e.minerStats.loading,miner:e.minerStats.data,minerError:e.minerStats.error,loadingOnline:e.minerOnline.loading,minerCheck:e.minerOnline.data,settings:e.settings}})(T);t.default=j}}]);
//# sourceMappingURL=2.ca4bf3da.chunk.js.map