(this.webpackJsonpApolloUI=this.webpackJsonpApolloUI||[]).push([[6],{660:function(e,t,s){"use strict";s.r(t);var c=s(9),r=s(10),n=s(12),a=s(11),i=s(13),l=s(15),j=s(2),d=s(4),h=s(210),b=s.n(h),o=s(209),x=s.n(o),m=s(18),O=s(88),u=s(41),g=s(1),f=function(e){Object(n.a)(s,e);var t=Object(a.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props.miner,t=b.a.map(e.stats,"pool");return console.log("HELLO",t),Object(g.jsx)(i.I18n,{children:function(s){s.i18n;return Object(g.jsxs)(d.K,{responsive:!0,className:"table-outline d-table d-sm-table",children:[Object(g.jsx)("thead",{className:"bg-light",children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:Object(g.jsx)(i.Trans,{id:"Url"})}),Object(g.jsx)("th",{children:Object(g.jsx)(i.Trans,{id:"Active"})}),Object(g.jsx)("th",{children:Object(g.jsx)(i.Trans,{id:"Hashrate"})}),Object(g.jsx)("th",{children:"Last share"}),Object(g.jsx)("th",{children:"Diff"}),Object(g.jsx)("th",{children:"Acc"}),Object(g.jsx)("th",{children:"Rej"}),Object(g.jsx)("th",{className:"text-center",children:Object(g.jsx)(i.Trans,{id:"Username"})})]})}),Object(g.jsx)("tbody",{className:"bg-white",children:t.map((function(t,s){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:Object(g.jsx)("div",{className:"font-weight-bold text-muted",children:"".concat(t.host,":").concat(t.port)})}),Object(g.jsx)("td",{className:"",children:Object(g.jsx)("h5",{className:"mb-0",children:Object(g.jsx)(d.b,{color:t.intervals.int_0.sharesSent>0?"success":"light",children:t.intervals.int_0.sharesSent>0?"Active":"Inactive"})})}),Object(g.jsx)("td",{children:Object(g.jsxs)("h6",{className:"mb-0 font-weight-bold",children:[Object(g.jsx)("i",{className:"fa fa-fire text-secondary"})," ",Object(u.c)(e.stats[s].master.intervals.int_0.bySol,"gh")]})}),Object(g.jsx)("td",{children:t.lastShareTime?x()().to(x()(t.lastShareTime,"X")):"Never"}),Object(g.jsx)("td",{children:t.diff||0}),Object(g.jsx)("td",{children:t.intervals.int_0.sharesAccepted||0}),Object(g.jsx)("td",{children:t.intervals.int_0.sharesRejected||0}),Object(g.jsx)("td",{className:"text-center small",children:t.userName})]},s)}))})]})}})}}]),s}(j.Component),p=function(e){Object(n.a)(s,e);var t=Object(a.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props.miner;return Object(g.jsx)(i.I18n,{children:function(t){t.i18n;return Object(g.jsxs)(d.K,{responsive:!0,className:"table-outline d-table d-sm-table",children:[Object(g.jsx)("thead",{className:"bg-light",children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:Object(g.jsx)(i.Trans,{id:"ID"})}),Object(g.jsx)("th",{children:Object(g.jsx)(i.Trans,{id:"Status"})}),Object(g.jsx)("th",{children:Object(g.jsx)(i.Trans,{id:"Hashrate"})}),Object(g.jsx)("th",{children:"Temp"}),Object(g.jsx)("th",{children:"Fan Speed"}),Object(g.jsx)("th",{children:"Power"}),Object(g.jsx)("th",{children:"Voltage"}),Object(g.jsx)("th",{children:"Error"}),Object(g.jsx)("th",{children:"Active ASICs"})]})}),Object(g.jsx)("tbody",{className:"bg-white",children:e.stats.map((function(e,t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:Object(g.jsxs)("div",{className:"font-weight-bold text-muted",children:[Object(g.jsx)("small",{children:"#"}),e.uuid]})}),Object(g.jsx)("td",{className:"",children:Object(g.jsx)("h5",{className:"mb-0",children:Object(g.jsx)(d.b,{color:e.pool.intervals.int_0.sharesSent>0?"success":"light",children:e.pool.intervals.int_0.sharesSent>0?"Active":"Inactive"})})}),Object(g.jsx)("td",{children:Object(g.jsxs)("h6",{className:"mb-0 font-weight-bold",children:[Object(g.jsx)("i",{className:"fa fa-fire text-secondary"})," ",Object(u.c)(e.slots.int_0.ghs,"gh")]})}),Object(g.jsxs)("td",{children:[e.slots.int_0.temperature,Object(g.jsx)("small",{children:"\xb0c"})]}),Object(g.jsxs)("td",{children:[e.fans.int_0.rpm[0]," ",Object(g.jsx)("small",{children:"rpm"})]}),Object(g.jsxs)("td",{children:[(e.slots.int_0.wattPerGHs*e.slots.int_0.ghs).toFixed(0)," ",Object(g.jsx)("small",{children:"W"})]}),Object(g.jsx)("td",{children:(e.slots.int_0.wattPerGHs*e.slots.int_0.ghs/b.a.sum(e.slots.int_0.currents)).toFixed(4)}),Object(g.jsxs)("td",{children:[e.slots.int_0.errorRate||0,Object(g.jsx)("small",{children:"%"})]}),Object(g.jsx)("td",{children:e.slots.int_0.chips})]},t)}))})]})}})}}]),s}(j.Component),v=function(e){Object(n.a)(s,e);var t=Object(a.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props,t=e.minerCheck,s=e.minerError,c=e.mcuError,r=e.mcu,n=e.miner,a=e.settings,l=b.a.sumBy(n.stats,(function(e){return e.master.intervals.int_0.errorRate})),j="success";l>=5&&l<=7.5?j="warning":l>7.5&&(j="danger");var h=x()().to(x()().subtract(b.a.sumBy(n.stats,(function(e){return e.master.upTime})),"seconds"),!0),o=n.stats.pool,v="Not available",y=0,N="success",T=x()().format("X");o&&o.lastShareTime&&(v=x()().to(x()(o.lastShareTime,"X")),y=o.lastShareTime);var w=T-y;return w>=300&&w<=600?N="warning":w>600&&(N="danger"),t.online.status?s?Object(g.jsx)(m.b,{show:!0,bg:"bg-0",title:"It seems there is a problem to communicate with the miner, check error message.",centerTitle:!0,subtitle:"Wait at least 1 minute, if problem persists, try to restart the miner, check the settings or try to reboot the system.",error:s,log:r.stats.bfgminerLog,centerSubtitle:!0,icon:"fa-exclamation-circle animated bounce",showBtn:!1,showProgress:!1}):Object(g.jsxs)("div",{ref:"main",children:[c?Object(g.jsxs)(d.a,{color:"warning",children:["There is a problem fetching system stats (",Object(g.jsx)("b",{children:c}),")"]}):null,Object(g.jsx)("div",{className:"animated fadeIn",children:Object(g.jsxs)(d.H,{children:[Object(g.jsx)(d.m,{xs:"12",md:"6",xl:"3",children:Object(g.jsx)(O.a,{bgColor:"bg-dark",icon:"fa fa-fire",value:Object(u.c)(b.a.sumBy(n.stats,(function(e){return e.master.intervals.int_0.bySol})),"gh"),title:"Current hashrate",progressColor:"primary",progressValue:"100",secondaryTitle:"15 Min Avg",secondaryValue:Object(u.c)(b.a.sumBy(n.stats,(function(e){return e.master.intervals.int_900.bySol})),"gh")})}),Object(g.jsx)(d.m,{xs:"12",md:"6",xl:"3",children:Object(g.jsx)(O.a,{bgColor:"bg-info",icon:"fa fa-thermometer-half",value:"".concat(b.a.sumBy(n.stats,(function(e){return e.master.boardsW}))," Watt"),title:"Miner power usage",progressColor:Object(u.f)(b.a.meanBy(n.stats,(function(e){return e.master.boardsW}))),progressValue:100*b.a.meanBy(n.stats,(function(e){return e.master.boardsW}))/300,secondaryTitle:"Watts per TH/s",secondaryValue:1e3*b.a.meanBy(n.stats,(function(e){return e.master.wattPerGHs}))})}),Object(g.jsx)(d.m,{xs:"12",md:"6",xl:"3",children:Object(g.jsx)(O.a,{bgColor:"bg-gray-300",icon:"fa fa-exclamation-triangle",value:l.toFixed(1)+"%",title:"Hardware errors",progressColor:j,progressValue:10*l,secondaryTitle:"Rejected",secondaryValue:b.a.meanBy(n.stats,(function(e){return e.pool.intervals.int_0.lowDifficultyShares}))})}),Object(g.jsx)(d.m,{xs:"12",md:"6",xl:"3",children:Object(g.jsx)(O.a,{bgColor:"bg-gray-200",icon:"fa fa-clock",value:h,title:"Miner uptime",progressColor:N,progressValue:100,secondaryTitle:"Last share",secondaryValue:v})})]})}),Object(g.jsx)("div",{className:"animated fadeIn",children:Object(g.jsx)(d.H,{children:Object(g.jsxs)(d.m,{children:[Object(g.jsx)("h4",{children:Object(g.jsx)(i.Trans,{id:"Hashboards"})}),Object(g.jsx)("div",{children:Object(g.jsx)(p,{miner:n})})]})})}),Object(g.jsx)("div",{className:"animated fadeIn",children:Object(g.jsx)(d.H,{children:Object(g.jsxs)(d.m,{children:[Object(g.jsx)("h4",{children:Object(g.jsx)(i.Trans,{id:"Pools"})}),Object(g.jsx)("div",{children:Object(g.jsx)(f,{miner:n})})]})})}),Object(g.jsxs)("div",{children:[Object(g.jsx)("h4",{children:Object(g.jsx)(i.Trans,{id:"Settings"})}),Object(g.jsxs)(d.H,{children:[Object(g.jsx)(d.m,{xs:"12",md:"6",xl:"3",children:Object(g.jsx)(d.f,{className:"bg-light",children:Object(g.jsxs)(d.g,{children:[Object(g.jsx)("div",{className:"h1 text-muted float-right",children:Object(g.jsx)("i",{className:Object(u.d)(a.minerMode)+" fa text-gray"})}),Object(g.jsx)("div",{className:"h4 m-0 text-uppercase",children:a.minerMode||"Not set"}),Object(g.jsx)("div",{children:Object(g.jsx)(i.Trans,{id:"Miner mode"})})]})})}),Object(g.jsx)(d.m,{xs:"12",md:"6",xl:"3",children:Object(g.jsx)(d.f,{className:"bg-light",children:Object(g.jsxs)(d.g,{children:[Object(g.jsx)("div",{className:"h1 text-muted float-right",children:Object(g.jsx)("i",{className:"fa fa-bolt text-gray"})}),Object(g.jsx)("div",{className:"h4 m-0",children:"custom"===a.minerMode?Object(g.jsxs)("span",{children:[a.voltage||0,Object(g.jsx)("small",{className:"textmuted",children:"%"})]}):Object(g.jsx)("span",{children:"Auto"})}),Object(g.jsx)("div",{children:Object(g.jsx)(i.Trans,{id:"Miner voltage"})})]})})}),Object(g.jsx)(d.m,{xs:"12",md:"6",xl:"3",children:Object(g.jsx)(d.f,{className:"bg-light",children:Object(g.jsxs)(d.g,{children:[Object(g.jsx)("div",{className:"h1 text-muted float-right",children:Object(g.jsx)("i",{className:"fa fa-broadcast-tower text-gray"})}),Object(g.jsx)("div",{className:"h4 m-0",children:"custom"===a.minerMode?Object(g.jsxs)("span",{children:[a.frequency||0," ",Object(g.jsx)("small",{className:"textmuted",children:"MHz"})]}):Object(g.jsx)("span",{children:"Auto"})}),Object(g.jsx)("div",{children:Object(g.jsx)(i.Trans,{id:"Miner frequency"})})]})})}),Object(g.jsx)(d.m,{xs:"12",md:"6",xl:"3",children:Object(g.jsx)(d.f,{className:"bg-light",children:Object(g.jsxs)(d.g,{children:[Object(g.jsx)("div",{className:"h1 text-muted float-right",children:Object(g.jsx)("i",{className:"fa fa-wind text-gray"})}),Object(g.jsx)("div",{className:"h4 m-0",children:40!==a.fan_low&&60!==a.fan_high?Object(g.jsxs)("span",{children:[a.fan_low,"% / ",a.fan_high,"%"]}):Object(g.jsx)("span",{children:"Auto"})}),Object(g.jsx)("div",{children:Object(g.jsx)(i.Trans,{id:"Fan speed"})})]})})})]})]})]}):Object(g.jsx)(m.b,{show:!0,bg:"bg-0",title:"Miner is offline",centerTitle:!0,subtitle:"Try to start it",error:!1,centerSubtitle:!0,icon:"fa-toggle-off animated bounce",showBtn:!0,btnTo:"/miner/start",btnText:"Start"})}}]),s}(j.Component),y=Object(l.connect)((function(e){return{loadingMcu:e.mcuStats.loading,mcu:e.mcuStats.data,mcuError:e.mcuStats.error,loadingMiner:e.minerStats.loading,miner:e.minerStats.data,minerError:e.minerStats.error,loadingOnline:e.minerOnline.loading,minerCheck:e.minerOnline.data,settings:e.settings}}))(v);t.default=y}}]);
//# sourceMappingURL=6.3d19be14.chunk.js.map