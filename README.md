
Futurebit Mining Dashboard

# Introduction

Customer needs to setup a microcontroller (MCU) to manage USB miners he produces and sales, so basically with each sale he wants to give to his customers a complete system to manage their miners.

We need to:  

-   Build a basic web app to fit microcontroller
    
-   Setup the microcontroller to control some of its own features (like Wifi, reboot and more) and the miners connected  

Microcontroller will have:  

-   MCU: Orange Pi Zero 4 Core Cortex A7 ARM CPU with 256MB RAM.
    
-   OS: Armbian Ubuntu 16.04.4 running 4.14 linux kernel
    
-   Miner: Custom compiled bfgminer v 5.5

Web app will have:

-   Node.js/Express backend
    
-   ReactJS frontend
    
-   Basic HTML admin template
    
-   Possibly no database, everything set on single JSON file (there are only few options, less than hundred probably, to be configured/stored)
    
-   API to manage underline operating system CLI functions and Bfgminer software

Following are some specifics from customer: 

UI needs to be very minimalistic and I can manage this for you providing a ReactJS ready template.

First version we want to keep functionality down to only critical information needed to start mining and minimal display output of the core functions of the miner.

The web UI server code needs to be optimized for ARM based system and use as little resources as possible to serve the web app (this is why I want to avoid DB and keep everything in a simple JSON file or similar).

# Web app

Quick start guide:

-   guide user through setting up a personal login password, input miner pool URL and username/wallet depending on pool requirement
    
-   after quick start setup, miner is started with parameters and using our ECO Mode startup option and UI goes to main dashboard page

App navigation:

-   Dashboard
    
-   Settings
    
-   Miner setup
    
-   Wifi setup
    
-   System
    
-   Reboot
    
-   Shutdown

Dashboard:

-   Main page should display basic stats of the miner on top
    
-   Hashrate, fan speed, PCB temp, mining time, hw error etc (data from Bfgminer and system stats)
    
-   Pool info (display main pool mining and ability to change it from dashboard)
    
-   start/stop/restart button for Bfgminer

Settings:

-   Setup of mining pools (url, port, username, password)
    
-   Option to switch mining pool to pre-defined Futurebit ones as “donation pools”
    
-   Backup pools and settings
    
-   Toggle between preset Eco and Turbo mode (predefined miner options)
    
-   Custom option will unlock user controlled frequency and voltage
    
-   Fan Control options Auto/manually %
    
-   Reset MCU to defaults options

Wifi Setup:

-   MCU will either initially be configured in Adhoc network where users connects to wifi hotspot generated by MCU and does initial setup (which would require this part to be done during the quickstep guide but not sure if MCU can scan SSID while in adhoc mode), or initial setup will be done with ethernet connection and wifi setup done normally with system wifi calls
    
-   Scan SSID, dropdown for users to select their wifi, and input password
    
-   Armbian comes with nmcli, so all wifi setup can be done through this CLI tool.
    
-   Unless you have a good understanding of ad-hoc networking might be easiest to just do normal setup over ethernet, and just use basic nmcli commands to setup connected to wifi for initial release

System:

-   Reboot MCU
    
-   Shutdown MCU
    
-   Login will be very simple with single user/pass

# API

We will need following API to manage system and miner functions:

### Auth:

* /auth
  * /login
  * /logout
    

### System:

* /mcu
  * /shutdown
  * /reboot
  * /stats 
  * /wifi
    * /scan
    * /connect

### Miner:

* /miner
  * /start
  * /stop
  * /restart
  * /stats

### Settings:

* /settings
  * /pool
    * /add
    * /edit/:id
    * /delete/:id
    * /list
    * /get/:id
  * /miner
    * /configure
  * /auth
    * /password
      * /change

## References

Customer: [https://www.futurebit.io/](https://www.futurebit.io/)

Bfgminer original: [https://github.com/luke-jr/bfgminer](https://github.com/luke-jr/bfgminer)

Bfgminer used: [https://github.com/jstefanop/bfgminer](https://github.com/jstefanop/bfgminer)

BitcoinTalk topic: [https://bitcointalk.org/index.php?topic=2420357.0](https://bitcointalk.org/index.php?topic=2420357.0)

Operating system: [https://www.armbian.com/](https://www.armbian.com/)
